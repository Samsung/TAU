<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="../lib/tau/mobile/theme/default/tau.css">
	<link rel="stylesheet" href="../css/style.css">
	<script type="text/javascript" src="../lib/tau/mobile/js/tau.js" data-build-remove="false"></script>
</head>
<body>
<div class="ui-page ui-page-light ui-page-flex" id="empty-state-recipients-1-added-typing-page">
	<header>
		<h1>New message</h1>
		<a class="ui-header-btn ui-header-btn-left ui-header-btn-icon btn-icon-back"></a>
	</header>
	<div class="ui-content">
		<ul class="ui-listview">
			<li class="ui-li-flex">
				<span class="ui-li-area ui-li-area-a">
					<div id="empty-state-recipients-1-added-typing" data-selectable="true" data-input="new-line"
							data-placeholder="Recipients"></div>
				</span>
				<span class="ui-li-area ui-li-area-c ui-li-icon ui-icon-contact"
						style="align-self: flex-end; margin-bottom: 8px"></span>
			</li>
		</ul>
	</div>
	<footer style="border-top: 1px solid #e7e7e7; align-items: flex-end">
		<button data-inline="true" data-icon="paperclip" data-style="nobg" data-size="36" style="flex-grow: 0;
				flex-shrink: 0; margin-bottom: 6px"></button>
		<div style="margin-left:-4px; flex-grow: 1">
			<textarea id="empty-state-recipients-1-added-typing-message" placeholder="Text messages"
					data-max-height="200"></textarea>
		</div>
		<div style="flex-grow: 0; flex-shrink: 0; width: 36px; margin-bottom: -1.5px">
			<button data-icon="send" data-style="nobg" data-size="36"></button>
			<div style="font-size: 11.5px; margin-top: 1.5px; line-height: 15.5px">160/1</div>
		</div>
	</footer>
	<script>
		(function (tau) {
			var page = document.getElementById("empty-state-recipients-1-added-typing-page"),
				textEnveloperElement = document.getElementById("empty-state-recipients-1-added-typing"),
				textEnveloper;

			/**
			 * Adds a new item
			 */
			function onNewValue(event) {
				textEnveloper.add(event.detail.value);
			}

			/**
			 * pagebeforeshow event handler
			 * Do preparatory works and adds event listeners
			 */
			page.addEventListener("pagebeforeshow", function () {
				textEnveloper = tau.widget.TextEnveloper(textEnveloperElement);
				textEnveloper.on("newvalue", onNewValue);
				textEnveloper.add("Piotr Wronski");
			});

			page.addEventListener("pageshow", function () {
				var input = textEnveloper.getInput();

				if (input) {
					input.value = "Darek P";
					input.focus();
				}
			});
		}(window.tau));
	</script>
</div><!-- /page -->
</body>
</html>
