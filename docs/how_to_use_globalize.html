<!DOCTYPE html>
<html>
	<head>
		<base href="">
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<title>TAU</title>
		<meta charset="utf8">
		<meta http-equiv="X-UA-Compatible" content="IE-edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="css/bootstrap.min.css" rel="stylesheet">
		<link href="css/bootstrap-callout.css" rel="stylesheet">
		<link href="js/smartmenus-0.9.7/css/sm-core-css.css" rel="stylesheet">
		<link href="js/smartmenus-0.9.7/css/sm-clean/sm-clean.css" rel="stylesheet">
		<link href="js/google-code-prettify/prettify.css" rel="stylesheet">
		<link href="css/style.css" rel="stylesheet">
	</head>
	<body>
		<nav>
			<ul id="main-menu" class="sm sm-clean">
				<li><a href="index.html">TAU Guide</a></li>
				<li>
					<a href="javascript:void(0);">Working with TAU</a>
					<ul>
						<li><a href="application_visual_layout.html">Application visual Layout</a></li>
						<li><a href="basic_page_routing.html">Basic page routing</a></li>
						<li><a href="introduction_to_widgets.html">Introduction to widgets</a></li>
						<li><a href="using_jquery_with_tau.html">Using jQuery with TAU</a></li>
						<li><a href="framework_profiles.html">Framework profiles</a></li>
						<li><a href="how_to_create_own_widget.html">How to create own widget</a></li>
						<li><a href="how_to_use_globalize.html">How to use globalize</a></li>
						<li><a href="how_to_use_controller.html">How to use controller</a></li>
						<li><a href="how_to_write_declarative.html">How to write use declarative API</a></li>
					</ul>
				</li>
				
				<li>
					<a href="javascript:void(0);">Custom Elements</a>
					<ul>
						<li><a href="customelements/feature.html">Feature overview</a></li>
						<li><a href="customelements/custom_elements_preparation.html">Custom elements preparation</a></li>
						<li><a href="customelements/cehelloword.html">Tutorial for Custom Elements</a></li>
					</ul>
				</li>
				<li>
					<a href="javascript:void(0)">Tutorials</a>
					<ul>
						<li><a href="tutorial_clock.html">Clock</a></li>
						<li><a href="tutorial_notes.html">Notes</a></li>
						<li><a href="tutorial_gallery.html">Gallery</a></li>
					</ul>
				</li>
				<li>
					<a href="javascript:void(0)">Migration Guide</a>
					<ul>
						<li><a href="migration/features_overview.html">Features overview</a></li>
						<li><a href="migration/breaking_changes.html">Breaking changes</a></li>
						<li><a href="migration/switching_apps_to_tau.html">Switching your Apps to TAU</a></li>
					</ul>
				</li>
				<li><a href="api.html">API Docs</a></li>
				<li><a href="https://developer.tizen.org/forums/web-application-development" target="_blank">Forum</a></li>
			</ul>
		</nav>

		<article>
			<h1 id="globalize-utility">Globalize Utility</h1>
<p>The TAU Globalize utility supports internationalization and localization. It wraps the <a href="https://github.com/jquery/globalize">Globalize</a> functionality for easy access from Tizen Web applications, and it is extended to support the right-to-left (RTL) languages.</p>
<h2 id="jquery-and-globalize">jQuery and Globalize</h2>
<p>Globalize is a jQuery JavaScript library for internationalization and localization that leverages the official Unicode CLDR JSON data. The library works both for the browser and as a Node.js module. jQuery and Globalize have dependencies with <a href="https://github.com/rxaviers/cldrjs">cldr.js</a>, which is a CLDR low-level manipulation tool.</p>
<p><strong>Globalize</strong>
:</p>
<ul>
<li>Leverages the Unicode CLDR data and follows its UTS#35 specification.</li>
<li>Keeps the code separate from the i18n content. Does not host or embed any locale data in the library. Empowers you to control the loading mechanism of your choice.</li>
<li>Allows you to load as much or as little data as you need. Avoids duplicating data if using multiple i18n libraries that leverage CLDR.</li>
<li>Keeps the code modular. Allows you to load the i18n functionalities you need.</li>
<li>Runs in browsers and Node.js, and consistently across all of them.</li>
<li>Makes globalization as easy to use as jQuery.</li>
</ul>
<h2 id="cldr-data">CLDR Data</h2>
<p>The Unicode CLDR provides the key building blocks for software to support the world&#39;s languages. It includes</p>
<ul>
<li>Locale-specific patterns for formatting and parsing dates, times, time zones, numbers, and currency values.</li>
<li>Translations of names: languages, scripts, countries and regions, currencies, eras, months, weekdays, day periods, time zones, cities, and time units.</li>
<li>Language and script information: characters used, plural cases, gender of lists, capitalization, rules for sorting and searching, writing direction, transliteration rules, rules for spelling out numbers, and rules for segmenting text into graphemes, words, and sentences.</li>
<li>Country information: language usage, currency information, calendar preference and week conventions, and postal and telephone codes.</li>
<li>ISO and BCP 47 code support (such as cross-mappings) and keyboard layouts.</li>
</ul>
<p>CLDR uses the XML format provided by UTS #35: Unicode Locale Data Markup Language (LDML). LDML is a format used not only for CLDR, but also for the general interchange of locale data. For more information about CLDR, see <a href="http://cldr.unicode.org/index/downloads/cldr-27">CLDR release notes</a>, and to download the JSON format file , see <a href="https://github.com/unicode-cldr/cldr-json">JSON Data from the Unicode CLDR Project</a>.</p>
<p>The TAU Globalize utility uses the CLDR 26 release, and when you create a Tizen Web application project, you find CLDR in the <project>/lib/tau/<profile>js/cldr-data folder.</p>
<h2 id="using-the-globalize-utility">Using the Globalize Utility</h2>
<p>To use the TAU Globalize utility in your application</p>
<h4 id="1-download-the-following-dependency-files-for-your-application">1. Download the following dependency files for your application</h4>
<ul>
<li><a href="https://github.com/rxaviers/cldrjs">Cldr</a> (v0.4.0)</li>
<li><a href="https://github.com/jquery/globalize">Globalize</a> (v1.0.0-alpha.17)</li>
<li><a href="http://unicode.org/Public/cldr/26/json-full.zip">Cldr-date</a> (26 version) main and supplemental</li>
</ul>
<h4 id="2-create-a-folder-structure-as-shown-in-the-following-table-">2. Create a folder structure, as shown in the following table.</h4>
<table>
<thead>
<tr>
<th style="text-align:center">Folder structure</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="images/globalize_folder_structure.png" alt="structure" title="case1"></td>
<td style="text-align:center"><img src="images/globalize_folder_structure_main.png" alt="case2" title="case1"></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:right"></th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right">Folder structure</td>
<td style="text-align:left">Description </td>
</tr>
<tr>
<td style="text-align:right">cldr/</td>
<td style="text-align:left">Copy the cldr.js library in this folder.     </td>
</tr>
<tr>
<td style="text-align:right">cldr-data/</td>
<td style="text-align:left">Copy the cldr-data files in this folder. </br> cldr-data/main: Copy the languages to be supported in this folder.</td>
</tr>
<tr>
<td style="text-align:right">globalize/</td>
<td style="text-align:left">Copy the Globalize library in this folder.   </td>
</tr>
<tr>
<td style="text-align:right">locale/</td>
<td style="text-align:left">Make the custom locale string in this folder.</td>
</tr>
<tr>
<td style="text-align:right">script/</td>
<td style="text-align:left">JavaScript files.                            </td>
</tr>
<tr>
<td style="text-align:right">style/</td>
<td style="text-align:left">CSS, image, and other style related files.   </td>
</tr>
<tr>
<td style="text-align:right">view/</td>
<td style="text-align:left">HTML files                                   </td>
</tr>
</tbody>
</table>
<h4 id="3-set-the-locale-using-the-following-example-code-">3. Set the locale using the following example code:</h4>
<pre><code>var globalize = tau.util.globalize,
   localeId  = &quot;ko-KR&quot;;
document.addEventListener(&#39;pageshow&#39;, function()
{
   globalize.setLocale(localeId)
   .done(function(ko)
   { 
      /* &quot;ko&quot; is the Globalize utility instance */
      console.log(ko.getLocale()) /* &quot;ko&quot; */
   })
})
</code></pre><p>The setLocale() method is not synchronous, and it returns the deferred object with the methods then(), done(), and fail(). Use these methods to receive the Globalize utility instance.</p>
<p>You can specify locales in 2 ways using IETF language tags, such as en, pt-BR, or zh-Hant-TW:</p>
<ul>
<li>Specify the locale ID in the lang attribute of the body element, such as <body lang="ko-KR">.</li>
<li>Use a string variable as an input argument of the setLocale() method (for example ko.setLocale(&quot;en&quot;)) to overwrite the body element setting.</li>
</ul>
<p>If no lang attribute or setLocale() input argument is defined, the Globalize utility finds the locale by checking the window.navigator.language property. If the check result is false, the utility uses the default locale &quot;en&quot;.</p>
<p>The following table illustrates the locale setting method order.</p>
<table>
<thead>
<tr>
<th style="text-align:center">Order</th>
<th style="text-align:center">Locale setting methods</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">setLocale(LocaleId)</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center"><code>&lt;body lang=&quot;ko-KR&quot;\&gt;</code></td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">window.navigator.language</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">Default locale &quot;en&quot;</td>
</tr>
</tbody>
</table>
<h3 id="4-make-sure-that-you-have-all-required-cldr-files-">4. Make sure that you have all required CLDR files.</h3>
<p>The setLocale() method automatically loads the basic CLDR data files which are match the given locale by local AJAX. During the method call, the Globalize utility also loads the basic CLDR JSON files:</p>
<ul>
<li>cldr/main/locale/ca-gregorian.json</li>
<li>cldr/main/locale/numbers.json</li>
<li>cldr/main/locale/currencies.json</li>
<li>cldr/supplemental/likelySubtags.json</li>
<li>cldr/supplemental/scriptMetaData.json</li>
<li>cldr/supplemental/timeData.json</li>
<li>cldr/supplemental/weekData.json</li>
<li>cldr/supplemental/numberingSystems.json</li>
<li>cldr/supplemental/plurals.json (for cardinals)</li>
<li>cldr/supplemental/ordinals.json (for ordinals)</li>
</ul>
<p>In addition to the basic files, each Globalize method requires a specialset of CLDR portions. Determine which Globalize module functionalities you need, and make sure you have the required files, as defined in the following table.</p>
<table>
<thead>
<tr>
<th style="text-align:center">Table: CLDR requirements</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Core module</td>
<td style="text-align:left">cldr/supplemental/likelySubtags.json    </td>
</tr>
<tr>
<td style="text-align:center">Date module</td>
<td style="text-align:left">cldr/main/locale/ca-gregorian.json </br> cldr/main/locale/timeZoneNames.json </br> cldr/supplemental/timeData.json </br> cldr/supplemental/weekData.json </br> CLDR JSON files from the number module </td>
</tr>
<tr>
<td style="text-align:center">Number module</td>
<td style="text-align:left">cldr/main/locale/numbers.json </br>  cldr/supplemental/numberingSystems.json</td>
</tr>
<tr>
<td style="text-align:center">Plural module</td>
<td style="text-align:left">cldr/supplemental/plurals.json (for cardinals) </br> cldr/supplemental/ordinals.json (for ordinals)</td>
</tr>
</tbody>
</table>
<h3 id="5-using-the-globalize-utility-methods">5. Using the Globalize Utility Methods</h3>
<p>The following code snippets show how to use the TAU Globalize utility methods:</p>
<ul>
<li>formatCurrency():</li>
</ul>
<pre><code>var globalize = tau.util.globalize,
    localeId  = &quot;ko-KR&quot;,
    currency_unit = &quot;KRW&quot;; /* ISO 4217 */

document.addEventListener(&#39;pageshow&#39;, function()
{
   globalize.setLocale(localeId)
   .done(function(ko)
   {
      console.log(ko.formatCurrency(69000, currency_unit)); /* ₩69,900 */
   })
})
</code></pre><p>For more information, see the <a href="http://en.wikipedia.org/wiki/ISO_4217">currency unit standard in ISO 4217</a>.</p>
<ul>
<li>formatDate():<pre><code>var globalize = tau.util.globalize,
  localeId  = &quot;ko-KR&quot;,
  currency_unit = &quot;KRW&quot;; /* ISO 4217 */
document.addEventListener(&#39;pageshow&#39;, function()
{
 globalize.setLocale(localeId)
 .done(function(ko)
 {
    console.log(ko.formatDate(new Date(), {datetime:&quot;medium&quot;}); 
 })
})
</code></pre></li>
</ul>
<p>For more information, see <a href="https://github.com/jquery/globalize/blob/master/doc/api/date/date-formatter.md">date-formatter</a>.</p>
<ul>
<li>getCalendar():<pre><code>var globalize = tau.util.globalize,
  localeId  = &quot;ko-KR&quot;;
document.addEventListener(&#39;pageshow&#39;, function()
{
 globalize.setLocale(localeId)
 .done(function(ko)
 {
    console.log(ko.getCalendar().months.format.wide, undefined, 4));
 })
})
</code></pre></li>
</ul>
<p>The calendar format is specified in the gregorian.json file in the CLDR data.</p>
<ul>
<li><p>formatMessage():
This method supports custom locale data.</p>
<ol>
<li>Create a directory for each locale that has localized content under the locales directory in the project root. The locale names are defined in the <a href="http://www.iana.org/assignments/language-subtag-registry/language-subtag-registry">W3C IANA language subtag registry</a>.<pre><code>index.html
locale
en.json
ko.json
</code></pre></li>
<li>Create a JSON file for the formatMessage strings (custom locale strings) in locales paths:<pre><code> {
    &quot;en&quot;:
    {
       &quot;like&quot;: 
       [
          &quot;{0, plural, offset:1&quot;,
          &quot;=0 {Be the first to like this}&quot;,
          &quot;=1 {You liked this}&quot;,
          &quot;one {You and someone else liked this}&quot;,
          &quot;other {You and # others liked this}&quot;,
          &quot;}&quot;
       ],
       &quot;greeting&quot;:
       {
          &quot;hello&quot;:&quot;hello&quot;,
          &quot;bye&quot;:&quot;bye&quot;
       },
       &quot;longText&quot;: 
       [
          &quot;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eligendi non&quot;,
          &quot;quis exercitationem culpa nesciunt nihil aut nostrum explicabo&quot;,
          &quot;reprehenderit optio amet ab temporibus asperiores quasi cupiditate.&quot;,
          &quot;Voluptatum ducimus voluptates voluptas?&quot;
       ]
    }
 }
</code></pre></li>
<li><p>Call the setLocale() method to load the custom locale files automatically:</p>
<pre><code>  var globalize = tau.util.globalize,
      localeId  = &quot;ko-KR&quot;;

  document.addEventListener(&#39;pageshow&#39;, function()
  {
     globalize.setLocale(localeId)
     .done(function(ko)
     {
        console.log(ko.formatMessage(&quot;greeting/hello&quot;));
        console.log(ko.formatMessage(&quot;greeting/bye&quot;));
        console.log(ko.formatMessage(&quot;longText&quot;));
     })
  })
</code></pre></li>
</ol>
</li>
<li>messageFormatter():</li>
</ul>
<p>This method returns a function that formats a message using the ICU message format pattern. For more information, see <a href="https://github.com/jquery/globalize/blob/master/doc/api/message/message-formatter.md">message-formatter</a>.</p>
<ol>
<li>Create a locale resource in the locales path:<pre><code>{
&quot;en&quot;:
{
  &quot;formatter&quot;:
  {
     &quot;welcome&quot;:&quot;Hello Mr. {0}&quot;,
     &quot;thankyou&quot;:&quot;Bye Mr. {custom}.&quot;
  }
}
}
</code></pre></li>
<li><p>Use the messageFormatter() method:</p>
<pre><code>var globalize = tau.util.globalize,
 localeId  = &quot;en-US&quot;;

document.addEventListener(&#39;pageshow&#39;, function()
{
globalize.setLocale(localeId)
.done(function(en)
{
   var welcomeFormatter = en.messageFormatter(&#39;formatter/welcome&#39;),
       thankyouFormatter  = en.messageFormatter(&#39;formatter/thankyou&#39;),    
       welcomeMessageList = [&quot;Tom&quot;],
       thankyouMessageList = {custom:&quot;Tom&quot;};

   console.log(welcomeFormatter(welcomeMessageList));   
   console.log(thankyouFormatter(thankyouMessageList));
})
})
</code></pre></li>
</ol>
<h2 id="right-to-left-rtl-language-support">Right-to-left (RTL) Language Support</h2>
<p>TAU offers 2 ways to handle right-to-left (RTL) languages:</p>
<ul>
<li>Locale-specific CSS</li>
<li>RTL property in a locale object</li>
</ul>
<p>When the setLocale() method is called, it automatically applies a CSS class to the body element of your DOM if the given locale has an RTL direction.</p>
<p>he following examples show how to use the locale-specific CSS</p>
<ul>
<li><p>The following example has ar-EG as the given locale, and the language has an RTL direction:</p>
<pre><code>var globalize = tau.util.globalize,
  localeId  = &quot;ar-EG&quot;;
document.addEventListener(&#39;pageshow&#39;, function()
{  
 globalize.setLocale(localeId)  
 .done(function(ar)
 {
    ...
 })
})
</code></pre></li>
<li><p>The following example has a DOM of body with a locale-specific CSS named ui-script-direction-rtl:</p>
<pre><code>&lt;body class=&quot;ui-script-direction-rtl&quot;&gt;
</code></pre></li>
<li><p>The following example uses the locale-specific CSS to switch on the RTL feature for a UI component:</p>
<pre><code>.ui-script-direction-rtl .ui-listview
{
 direction: rtl;
}
.ui-script-direction-rtl .ui-li.ui-li-static  
{
 text-align: right;
 unicode-bidi: bidi-override;
}
</code></pre></li>
</ul>
<p>The following example shows how to use the RTL property in a locale object (the rtl variable). If a given locale has an RTL direction, the variable is true.</p>
<pre><code>var globalize = tau.util.globalize,
    localeId  = &quot;ar-EG&quot;;

document.addEventListener(&#39;pageshow&#39;, function()
{
   globalize.setLocale(localeId)
   .done(function(ar)
   {
      console.log(ar.rtl) /* true */
   })
})
</code></pre>
		</article>

		<footer>
			<div>Licensed under <a href="license.html">MIT License</a> by Samsung Electronics Co., Ltd. &copy;  2014</div>
			<div class="version">ver 0.13.46</div>
		</footer>

		<script src="js/jquery-1.11.1.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/google-code-prettify/prettify.js"></script>
		<script src="js/smartmenus-0.9.7/jquery.smartmenus.min.js"></script>
		<script src="js/taupreview.js"></script>
		<script>
			$(function () {
				$("#main-menu").smartmenus({
					showOnClick: true
				});
			});
		</script>
	</body>
</html>
