<!DOCTYPE html>
<html>
	<head>
		<base href="">
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<title>TAU</title>
		<meta charset="utf8">
		<meta http-equiv="X-UA-Compatible" content="IE-edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="css/bootstrap.min.css" rel="stylesheet">
		<link href="css/bootstrap-callout.css" rel="stylesheet">
		<link href="js/smartmenus-0.9.7/css/sm-core-css.css" rel="stylesheet">
		<link href="js/smartmenus-0.9.7/css/sm-clean/sm-clean.css" rel="stylesheet">
		<link href="js/google-code-prettify/prettify.css" rel="stylesheet">
		<link href="css/style.css" rel="stylesheet">
	</head>
	<body>
		<nav>
			<ul id="main-menu" class="sm sm-clean">
				<li><a href="index.html">TAU Guide</a></li>
				<li>
					<a href="javascript:void(0);">Working with TAU</a>
					<ul>
						<li><a href="application_visual_layout.html">Application visual Layout</a></li>
						<li><a href="basic_page_routing.html">Basic page routing</a></li>
						<li><a href="introduction_to_widgets.html">Introduction to widgets</a></li>
						<li><a href="using_jquery_with_tau.html">Using jQuery with TAU</a></li>
						<li><a href="framework_profiles.html">Framework profiles</a></li>
						<li><a href="how_to_create_own_widget.html">How to create own widget</a></li>
						<li><a href="how_to_use_globalize.html">How to use globalize</a></li>
						<li><a href="how_to_use_controller.html">How to use controller</a></li>
						<li><a href="how_to_write_declarative.html">How to write use declarative API</a></li>
					</ul>
				</li>
				
				<li>
					<a href="javascript:void(0);">Custom Elements</a>
					<ul>
						<li><a href="customelements/feature.html">Feature overview</a></li>
						<li><a href="customelements/custom_elements_preparation.html">Custom elements preparation</a></li>
						<li><a href="customelements/cehelloword.html">Tutorial for Custom Elements</a></li>
					</ul>
				</li>
				<li>
					<a href="javascript:void(0)">Tutorials</a>
					<ul>
						<li><a href="tutorial_clock.html">Clock</a></li>
						<li><a href="tutorial_notes.html">Notes</a></li>
						<li><a href="tutorial_gallery.html">Gallery</a></li>
					</ul>
				</li>
				<li>
					<a href="javascript:void(0)">Migration Guide</a>
					<ul>
						<li><a href="migration/features_overview.html">Features overview</a></li>
						<li><a href="migration/breaking_changes.html">Breaking changes</a></li>
						<li><a href="migration/switching_apps_to_tau.html">Switching your Apps to TAU</a></li>
					</ul>
				</li>
				<li><a href="api.html">API Docs</a></li>
				<li><a href="https://developer.tizen.org/forums/web-application-development" target="_blank">Forum</a></li>
			</ul>
		</nav>

		<article>
			<h1 id="tutorial-for-creating-the-base-application-gallery">Tutorial for creating the base application Gallery</h1>
<h2 id="gallery">Gallery</h2>
<p>This tutorial demonstrates how you can create simple application gallery using
TAU library. The main features of the Gallery include:</p>
<ul>
<li>shows all images which can be scrollable</li>
<li>preview one selected image</li>
<li>jump to beginning list of images</li>
</ul>
<h2 id="tutorial-goal">Tutorial Goal</h2>
<p>Building from scratch application with the following functionalities:</p>
<ul>
<li>Showing all images on the first page</li>
<li>The images can be selected</li>
<li>List of images can be scrolled</li>
<li>On the first page will be located a button with functionality of scrolling
to the beginning of list</li>
<li>The image after click will show in new page.</li>
<li>The image on the new page can be zoomed.</li>
</ul>
<h2 id="step-1-generating-simple-app-from-tizen-sdk">Step 1: Generating simple app from Tizen SDK</h2>
<p>First we should create simple basic app, which can be a base application
for develop. For creating default application go to menu <em>File</em> in 
Tizen SDK and select <em>New-&gt;Tizen Web Project</em>. In window which is
appearing select <em>Basic-&gt; Basic Application</em> then type name for app
<em>Gallery</em> and click <em>Finish</em>. After this operations should be
created application with default files structure like
<a href="switching-apps-to-tau#Basic application">here</a></p>
<h2 id="step-2-">Step 2:</h2>
<p>When you have created a basic application, you may go to edit a 
file <em>index.html</em>. Before you start check out the section header.
Because the application will runs on mobile or wearable devices,
you need to add <code>tau.css</code> styles for the corresponding profile.
If you want create mobile app you should add style css from profile <code>mobile</code>
add link to header like below:</p>
<pre><code>&lt;!-- Use &#39;mobile&#39; or &#39;wearable&#39; to chose device tau profile --&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;js/lib/tau/mobile/theme/default/tau.css&quot;/&gt;
</code></pre><p>or profile <code>wearable</code> :</p>
<pre><code>&lt;!-- Use &#39;mobile&#39; or &#39;wearable&#39; to chose device tau profile --&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;js/lib/tau/wearable/theme/default/tau.css&quot;/&gt;
</code></pre><p>and also add your own styles for application.</p>
<pre><code>&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/style.css&quot;/&gt;
</code></pre><p>And now the whole section header should look like below:</p>
<pre><code>&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot; /&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0&quot;&gt;
    &lt;meta name=&quot;description&quot; content=&quot;Tizen basic template generated by Tizen Web IDE&quot;/&gt;

    &lt;title&gt;Gallery&lt;/title&gt;

    &lt;!-- Use &#39;mobile&#39; or &#39;wearable&#39; to chose device tau profile --&gt;
    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;js/lib/tau/mobile/theme/default/tau.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/style.css&quot;/&gt;
&lt;/head&gt;

</code></pre><h2 id="step-3-">Step 3:</h2>
<p>In this step you need create two basic pages:</p>
<ul>
<li>page where application displays all images</li>
<li>page for view single image</li>
</ul>
<h4 id="first-page">First page</h4>
<p>First page is a <code>div</code> block with <code>class=ui-page</code> and <code>id=galleryPage</code>.
Here you can add title header <em>Gallery</em> like below:</p>
<pre><code>&lt;div id=&quot;galleryPage&quot; class=&quot;ui-page&quot;&gt;
    &lt;header class=&quot;ui-header&quot;&gt;
        &lt;h1 class=&quot;ui-title ui-title-text-fadeout&quot;&gt;Gallery&lt;/h1&gt;
    &lt;/header&gt;
&lt;/div&gt;
</code></pre><p>And now you need to add content for first page. To do this,
add section tag with id <code>galleryPageSection</code> and class <code>ui-content</code>.
Add to this section tag list of all images. In this case images will
be shown as <code>div</code> background. <code>div</code> tag will have class <code>img-container</code>
and <code>data-url</code> to source image. Example is below:</p>
<pre><code>&lt;div class=&quot;img-container&quot; data-url=&quot;images/k.jpg&quot; style=&quot;background-image:url(&#39;images/k.jpg&#39;);&quot;&gt;&lt;/div&gt;
</code></pre><p>Here add button to application which will scroll list of images to top.
The button let will created from <code>div</code> which has data role <code>data-role=&quot;button&quot;</code>
and id <code>moveToTop</code>. In the next steps to this button will add a function
to scrolling.</p>
<pre><code>&lt;div id=&quot;moveToTop&quot; data-role=&quot;button&quot; class=&quot;ui-btn&quot; &gt;Move to top&lt;/div&gt;
</code></pre><p>Full code for first page is shown below:</p>
<pre><code>&lt;div id=&quot;galleryPage&quot; class=&quot;ui-page&quot;&gt;
    &lt;header class=&quot;ui-header&quot;&gt;
        &lt;h1 class=&quot;ui-title ui-title-text-fadeout&quot;&gt;Gallery&lt;/h1&gt;
    &lt;/header&gt;
    &lt;section id=&quot;galleryPageSection&quot; class=&quot;ui-content&quot;&gt;
        &lt;div class=&quot;img-container&quot; data-url=&quot;images/k.jpg&quot; style=&quot;background-image:url(&#39;images/k.jpg&#39;);&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;img-container&quot; data-url=&quot;images/o.jpg&quot; style=&quot;background-image:url(&#39;images/o.jpg&#39;);&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;img-container&quot; data-url=&quot;images/r.jpg&quot; style=&quot;background-image:url(&#39;images/r.jpg&#39;);&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;img-container&quot; data-url=&quot;images/w.jpg&quot; style=&quot;background-image:url(&#39;images/w.jpg&#39;);&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;img-container&quot; data-url=&quot;images/a.jpg&quot; style=&quot;background-image:url(&#39;images/a.jpg&#39;);&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;img-container&quot; data-url=&quot;images/b.jpg&quot; style=&quot;background-image:url(&#39;images/b.jpg&#39;);&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;img-container&quot; data-url=&quot;images/c.jpg&quot; style=&quot;background-image:url(&#39;images/c.jpg&#39;);&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;img-container&quot; data-url=&quot;images/h.jpg&quot; style=&quot;background-image:url(&#39;images/h.jpg&#39;);&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;img-container&quot; data-url=&quot;images/x.jpg&quot; style=&quot;background-image:url(&#39;images/x.jpg&#39;);&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;img-container&quot; data-url=&quot;images/z.jpg&quot; style=&quot;background-image:url(&#39;images/z.jpg&#39;);&quot;&gt;&lt;/div&gt;
        &lt;div id=&quot;moveToTop&quot; data-role=&quot;button&quot; class=&quot;ui-btn&quot; &gt;Move to top&lt;/div&gt;
    &lt;/section&gt;
&lt;/div&gt;
</code></pre><h4 id="second-page-">Second page:</h4>
<p>Second page is a <code>div</code> with id <code>imagePage</code> and class <code>ui-page</code>. This page is need
for preview selected image. When some image on the first pages will be clicked,
then path to source image will get from <code>data-url</code> and set as source
to tag <code>&lt;img&gt;</code>, After that will trigger event <em>changepage</em> to <code>imagePage</code> page
and shows the image. By default source to <code>img</code> is set to empty string.
Code for second page is below:</p>
<pre><code>&lt;div id=&quot;imagePage&quot; class=&quot;ui-page&quot;&gt;
    &lt;img id=&quot;imageToShow&quot; src=&quot;&quot;/&gt;
&lt;/div&gt;
</code></pre><h2 id="step-4-">Step 4:</h2>
<p>Finally need to link to TAU library sources and add script to the application</p>
<pre><code>&lt;script src=&quot;js/lib/tau/mobile/js/tau.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;js/main.js&quot;&gt;&lt;/script&gt;
</code></pre><p>This step is finalizing the edition of the file <code>index.html</code>.
Example is attached at the bottom off the page.</p>
<h2 id="step-5-">Step 5:</h2>
<p>When the <em>index.html</em> is ready, you can add styles for content.</p>
<pre><code>#galleryPage .ui-scrollview-view {
    padding: 0 !important;
}
#galleryPage #moveToTop {
    clear: both;
}
#galleryPage .img-container {
    float: left;
    width: 50%;
    height: 50%;
    background-position: center, center;
    background-size: cover;
}

#imagePage {
    background-size: contain;
    background: no-repeat center, center;
    overflow-x: visible;
    overflow-y: visible;
}
#imageToShow {
    min-width: 100%;
    min-height: 100%;
}
</code></pre><h2 id="step-6-">Step 6:</h2>
<p>In this step we will create the <em>main.js</em> file.
First of all create immediate function with function to close the app.</p>
<pre><code>&lt;script&gt;
(function () {
    &#39;use strict&#39;;

    /**
    * Closing application
    */
    var closeApp = function () {
        tizen.application.getCurrentApplication().exit();
    };

    /**
    * Initialize function
    */
    var init = function () {
        var galleryPage = document.getElementById(&quot;galleryPage&quot;),
            imagePage = document.getElementById(&quot;imagePage&quot;),
            imageToShow = document.getElementById(&quot;imageToShow&quot;),
            moveToTopBtn = document.getElementById(&quot;moveToTop&quot;);

        // add eventListener for tizenhwkey
        document.addEventListener(&#39;tizenhwkey&#39;, function(e) {
            // no tau.activePage.id on mobile profile
            var activePageId = document.querySelector(&quot;.ui-page-active&quot;).getAttribute(&quot;id&quot;);
            if(e.keyName == &quot;back&quot;) {
                if (activePageId === &quot;galleryPage&quot;) {
                    closeApp();
                    } else {
                    window.history.back();
                }
            }
        });
    };

    // init functions when all DOM content is loaded
    document.addEventListener(&#39;DOMContentLoaded&#39;, function(e) {
        init();
    });

}());
&lt;/script&gt;
</code></pre><p>This code block calculate proper size images in gallery page, and
add click listener for each image, which after event change page to view image.</p>
<pre><code>&lt;script&gt;
// Calculate proper size for image in gallery page
galleryPage.addEventListener(&quot;pageshow&quot;, function(ev) {
    var section = document.getElementById(&quot;galleryPageSection&quot;),
        sectionHeight = Math.ceil(0.5 * parseInt(section.style.height)) + &quot;px&quot;,
        sectionWidth = Math.ceil(0.5 * parseInt(document.width)) + &quot;px&quot;,
        imageDivs = document.querySelectorAll(&quot;.img-container&quot;),
        i = imageDivs.length;
    while (i--) {
        imageDivs[i].style.height = sectionHeight;
        imageDivs[i].style.width = sectionWidth;
        // Add Click event to gallery element
        // for changing page and load proper image
        imageDivs[i].addEventListener(&quot;click&quot;, function(ev) {
            var imgSrc = this.getAttribute(&quot;data-url&quot;);
            ev.stopPropagation();
            ev.preventDefault();
            imagePage.style.backgroundImage = &quot;url(&quot; + imgSrc + &quot;)&quot;;
            imageToShow.setAttribute(&quot;src&quot;, imgSrc);
            imageToShow.style.display = &quot;none&quot;;
            tau.changePage(&quot;#imagePage&quot;);
        });
    }
});
&lt;/script&gt;
</code></pre><p>Now you need add the function which will scroll to top of list images.
To create the function add this code block:</p>
<pre><code>&lt;script&gt;
/**
* Animation for scrolling view to top
*/
var moveToTop = function(currentTop, stepTop) {
    var section = document.getElementById(&quot;galleryPageSection&quot;),
        secTop = currentTop || section.scrollTop,
        stepTop = stepTop || Math.floor(secTop / 25);
    if (secTop &gt;= stepTop) {
        setTimeout(function() {
            section.scrollTop = secTop - stepTop;
            moveToTop(secTop - stepTop, stepTop);
        }, 20);
    } else {
        section.scrollTop = 0;
    }
};
&lt;/script&gt;
</code></pre><p>and add to <em>init()</em> function event listener</p>
<pre><code>&lt;script&gt;
// Add click event to button for view scrolling top
moveToTopBtn.addEventListener(&quot;click&quot;, function(ev) {
    moveToTop();
});
&lt;/script&gt;
</code></pre><p>Finally whole file should looks like below:</p>
<pre><code> &lt;script&gt;
 (function () {
     &#39;use strict&#39;;

     /**
     * Closing application
     */
     var closeApp = function () {
         tizen.application.getCurrentApplication().exit();
     };

     /**
     * Animation for scrolling view to top
     */
     var moveToTop = function(currentTop, stepTop) {
         var section = document.getElementById(&quot;galleryPageSection&quot;),
             secTop = currentTop || section.scrollTop,
             stepTop = stepTop || Math.floor(secTop / 25);
         if (secTop &gt;= stepTop) {
             setTimeout(function() {
                 section.scrollTop = secTop - stepTop;
                 moveToTop(secTop - stepTop, stepTop);
             }, 20);
         } else {
             section.scrollTop = 0;
         }
     };

     /**
     * Initialize function
     */
     var init = function () {
         var galleryPage = document.getElementById(&quot;galleryPage&quot;),
             imagePage = document.getElementById(&quot;imagePage&quot;),
             imageToShow = document.getElementById(&quot;imageToShow&quot;),
             moveToTopBtn = document.getElementById(&quot;moveToTop&quot;);

         // Calculate proper size for image in gallery page
         galleryPage.addEventListener(&quot;pageshow&quot;, function(ev) {
             var section = document.getElementById(&quot;galleryPageSection&quot;),
                 sectionHeight = Math.ceil(0.5 * parseInt(section.style.height)) + &quot;px&quot;,
                 sectionWidth = Math.ceil(0.5 * parseInt(document.width)) + &quot;px&quot;,
                 imageDivs = document.querySelectorAll(&quot;.img-container&quot;),
                 i = imageDivs.length;
             while (i--) {
                 imageDivs[i].style.height = sectionHeight;
                 imageDivs[i].style.width = sectionWidth;
                 // Add Click event to gallery element
                 // for changing page and load proper image
                 imageDivs[i].addEventListener(&quot;click&quot;, function(ev) {
                     var imgSrc = this.getAttribute(&quot;data-url&quot;);
                     ev.stopPropagation();
                     ev.preventDefault();
                     imagePage.style.backgroundImage = &quot;url(&quot; + imgSrc + &quot;)&quot;;
                     imageToShow.setAttribute(&quot;src&quot;, imgSrc);
                     imageToShow.style.display = &quot;none&quot;;
                     tau.changePage(&quot;#imagePage&quot;);
                 });
             }
         });

         // center image
         imagePage.addEventListener(&quot;click&quot;, function(ev) {
             if (imageToShow.style.display === &quot;none&quot;) {
                 imageToShow.style.display = &quot;block&quot;;
                 window.scrollTo(
                     (imageToShow.offsetWidth  - window.innerWidth ) / 2,
                     (imageToShow.offsetHeight - window.innerHeight) / 2
                 );
             } else {
                 window.scrollTo(0, 0);
                 imageToShow.style.display = &quot;none&quot;;
             }
         });

         // Add click event to button for view scrolling top
         moveToTopBtn.addEventListener(&quot;click&quot;, function(ev) {
             moveToTop();
         });

         // add eventListener for tizenhwkey
         document.addEventListener(&#39;tizenhwkey&#39;, function(e) {
             // no tau.activePage.id on mobile profile
             var activePageId = document.querySelector(&quot;.ui-page-active&quot;).getAttribute(&quot;id&quot;);
             if(e.keyName == &quot;back&quot;) {
                 if (activePageId === &quot;galleryPage&quot;) {
                     closeApp();
                 } else {
                     window.history.back();
                 }
             }
         });
     };

     // init functions when all DOM content is loaded
     document.addEventListener(&#39;DOMContentLoaded&#39;, function(e) {
         init();
     });
}());
 &lt;/script&gt;
</code></pre><p>OK, so now we have to put it all together. Link to the finished demo
application is added at bottom. The app can be downloaded and imported
to Tizen SDK IDE and deployed to a device or emulator to checkout.</p>
<p><a href="tutorial_apps/gallery/">Gallery Application DEMO</a></p>
<p><a href="tutorial_apps/gallery_application.zip">Gallery Application DEMO Project ZIP archive</a></p>

		</article>

		<footer>
			<div>Licensed under <a href="license.html">MIT License</a> by Samsung Electronics Co., Ltd. &copy;  2014</div>
			<div class="version">ver 0.13.46</div>
		</footer>

		<script src="js/jquery-1.11.1.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/google-code-prettify/prettify.js"></script>
		<script src="js/smartmenus-0.9.7/jquery.smartmenus.min.js"></script>
		<script src="js/taupreview.js"></script>
		<script>
			$(function () {
				$("#main-menu").smartmenus({
					showOnClick: true
				});
			});
		</script>
	</body>
</html>
